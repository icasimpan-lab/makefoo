#
# makefoo Makefile
# 
# supported targets:
#   install     -- install to previously configured prefix
#   check       -- run the testsuite
#

srcdir=@srcdir@
top_srcdir=@top_srcdir@
top_builddir=@top_builddir@

prefix=@prefix@
exec_prefix=@exec_prefix@
libdir = @libdir@

INSTALL = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_DIR = mkdir -p


all:

check:
	( cd tests ; ./test.sh)

#
# makefoo lib > prefix/lib/makefoo
#
makefoo_lib_DIR=.

makefoo_lib_FILES = \
        autoconf.mk \
        defs.mk \
        main.mk \
        native.mk \
        rpm.mk \
        rpm-spec-template.in \
        install-fhs.mk\

makefoo_lib_SCRIPTS = \
        configure.sh \
        autoconf_helpers/config.guess
        
makefoo_lib_INSTALL_DEST=$(libdir)/makefoo
:
INSTALLABLE += makefoo_lib

#
# makefoo documentation > docdir (prefix/share/doc/makefoo)
#
makefoo_doc_FILES = MANUAL.txt README.txt
makefoo_doc_INSTALL_DEST=$(docdir)/makefoo
INSTALLABLE += makefoo_doc

makefoo_COMPONENTS = makefoo_lib makefoo_doc
PACKAGES += makefoo

MAKEFOO=$(srcdir)
MAKEFOO_USE += install-fhs
MAKEFOO_USE += autoconf
MAKEFOO_USE += rpm

include $(MAKEFOO)/main.mk

# jedit: :tabSize=8:mode=makefile:

